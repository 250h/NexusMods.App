<reactiveUi:ReactiveUserControl
    d:DataContext=""
    d:DesignHeight="300"
    d:DesignWidth="1280"
    mc:Ignorable="d"
    x:Class="NexusMods.App.UI.Controls.TopBar.TopBarView"
    x:TypeArguments="topBar:ITopBarViewModel"
    xmlns="https://github.com/avaloniaui"
    xmlns:icons="clr-namespace:NexusMods.Icons;assembly=NexusMods.Icons"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:reactiveUi="http://reactiveui.net"
    xmlns:topBar="clr-namespace:NexusMods.App.UI.Controls.TopBar"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:resources="clr-namespace:NexusMods.App.UI.Resources"
    xmlns:navigation="clr-namespace:NexusMods.App.UI.Controls.Navigation"
    xmlns:controls="clr-namespace:NexusMods.App.UI.Controls">
    <Design.DataContext>
        <topBar:TopBarDesignViewModel />
    </Design.DataContext>

    <Grid ColumnDefinitions="Auto, *, Auto" x:Name="MainGrid" Height="56" VerticalAlignment="Top">

        <TextBlock Grid.Column="0"
                   Classes="TitleMDSemi ForegroundSubdued"
                   VerticalAlignment="Center"
                   Margin="16,0"
                   x:Name="ActiveWorkspaceTitleTextBlock" />

        <Menu Grid.Column="2" Margin="16 0">
            <MenuItem Classes="TopBarNoStyleMenuItem">
                <MenuItem.Header>
                    <reactiveUi:ViewModelViewHost VerticalAlignment="Center" x:Name="AddPanelViewModelViewHost" />
                </MenuItem.Header>
            </MenuItem>

            <Separator Width="1" Height="40"/>

            <MenuItem Classes="TopBarMenuItem">
                <MenuItem.Header>
                    <icons:UnifiedIcon Classes="Cog" />
                </MenuItem.Header>
            </MenuItem>

            <MenuItem Classes="TopBarMenuItem" Width="64">
                <MenuItem.Header>
                    <StackPanel Orientation="Horizontal" Spacing="0" Margin="10">
                        <icons:UnifiedIcon Classes="Help" Size="20" />
                        <icons:UnifiedIcon Classes="MenuDown" Size="24"/>
                    </StackPanel>
                </MenuItem.Header>
            </MenuItem>

            <MenuItem Classes="TopBarNoStyleMenuItem" x:Name="LoginMenuItem">
                <MenuItem.Header>
                    <Button Classes="Standard Primary" x:Name="LoginButton" Height="40">
                        <TextBlock Text="{x:Static resources:Language.TopBarActions__LOG_IN}"/>
                    </Button>
                </MenuItem.Header>

                <MenuItem Header="View changelog" x:Name="ViewChangelogMenuItem"/>
                <MenuItem Header="View App logs" x:Name="ViewAppLogsMenuItem"/>
                <MenuItem Header="Give feedback" x:Name="GiveFeedbackMenuItem"/>
            </MenuItem>

            <MenuItem Classes="TopBarMenuItem" Width="64" x:Name="AvatarMenuItem">
                <MenuItem.Header>
                    <StackPanel Orientation="Horizontal" Spacing="0" Margin="6">
                        <icons:UnifiedIcon Size="28" x:Name="AvatarIcon" />
                        <icons:UnifiedIcon Classes="MenuDown" Size="24"/>
                    </StackPanel>
                </MenuItem.Header>

                <MenuItem Header="{x:Static resources:Language.TopBar_MyProfile}" x:Name="OpenNexusModsProfileMenuItem" />
                <MenuItem Header="{x:Static resources:Language.TopBar_AccountSettings}" x:Name="OpenNexusModsAccountSettingsMenuItem" />
                <MenuItem Header="{x:Static resources:Language.TopBar_SignOut}" x:Name="SignOutMenuItem" />
            </MenuItem>
        </Menu>

    </Grid>
</reactiveUi:ReactiveUserControl>
